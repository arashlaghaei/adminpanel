(function(e,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("vue")):typeof define=="function"&&define.amd?define(["vue"],g):(e=typeof globalThis<"u"?globalThis:e||self,e.VuePaginate=g(e.Vue))})(this,function(e){"use strict";const g=(a,t)=>{const r=a.__vccOpts||a;for(const[h,P]of t)r[h]=P;return r},c={name:"paginate",props:{url:String,isReset:{type:Boolean,default:!1},params:{}},data:function(){return{cache:[],instance:axios.create(),currentPage:0,lastPage:0,perPage:15,startPage:1,endPage:0}},created:function(){this.changePage(1),this.endPage=this.perPage},methods:{nextPages:function(){this.endPage=this.endPage+this.perPage,this.startPage=this.startPage+this.perPage,this.lastPage<=this.startPage&&(this.startPage=this.startPage-this.perPage),this.lastPage<this.endPage&&(this.endPage=this.lastPage)},backPages:function(){this.isBackPages&&(this.endPage%this.perPage!==0?this.endPage=Math.round(this.endPage/this.perPage)*this.perPage:this.endPage=this.endPage-this.perPage,this.startPage=this.startPage-this.perPage)},nextPage:function(){this.isNextPage&&(this.startPage=parseInt(this.currentPage/this.perPage)*this.perPage+1,this.endPage!==this.lastPage&&(this.endPage=this.startPage+this.perPage-1),this.changePage(this.currentPage+1),this.currentPage>=this.endPage&&this.nextPages())},backPage:function(){this.isBackPage&&(this.startPage=parseInt(this.currentPage/this.perPage)*this.perPage+1,this.endPage!==this.lastPage&&(this.endPage=this.startPage+this.perPage-1),this.changePage(this.currentPage-1),this.currentPage<=this.startPage&&this.backPages())},isActive:function(a){return this.currentPage===a?"active":!1},changePage:function(a){var t=this.isExist(a);t!==void 0?(this.$emit("input",t.data),this.currentPage=a):this.giveData(this.url+"?page="+a,a)},giveData:function(a,t){this.instance.get(a,{params:this.params}).then((function(r){this.$emit("input",r.data.data),this.cache.push({page:t,data:r.data.data}),this.currentPage=r.data.current_page,this.lastPage=r.data.last_page,this.lastPage<this.perPage&&(this.endPage=this.lastPage)}).bind(this))},isExist:function(a){return this.cache.find(function(t){return t.page===a})}},computed:{isNextPages:function(){return this.endPage<this.lastPage},isBackPages:function(){return this.startPage>this.perPage},isNextPage:function(){return this.currentPage+1<=this.lastPage},isBackPage:function(){return this.currentPage-1>=1},isEmpty:function(){return this.lastPage<=1},pageNumber:function(){var a=[];for(i=this.startPage;i<=this.endPage;i++)a.push(i);return a}},watch:{isReset:function(){this.cache=[],this.endPage=this.perPage,this.startPage=1,this.changePage(1)}}},l={key:0,"aria-label":"Page navigation"},d={class:"pagination"},f=["onClick"];function o(a,t,r,h,P,s){return s.isEmpty?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("nav",l,[e.createElementVNode("ul",d,[e.createElementVNode("li",{class:e.normalizeClass({disabled:!s.isBackPage}),onClick:t[0]||(t[0]=e.withModifiers((...n)=>s.backPage&&s.backPage(...n),["prevent"]))},t[4]||(t[4]=[e.createElementVNode("a",{href:"#!"},[e.createElementVNode("span",{"aria-hidden":"true"},"«")],-1)]),2),e.createElementVNode("li",null,[s.isBackPages?(e.openBlock(),e.createElementBlock("a",{key:0,onClick:t[1]||(t[1]=e.withModifiers((...n)=>s.backPages&&s.backPages(...n),["prevent"])),href:"#!"},"...")):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.pageNumber,n=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(s.isActive(n))},[e.createElementVNode("a",{onClick:e.withModifiers(p=>s.changePage(n),["prevent"]),href:"#!"},"@"+e.toDisplayString(n),9,f)],2))),256)),e.createElementVNode("li",null,[s.isNextPages?(e.openBlock(),e.createElementBlock("a",{key:0,onClick:t[2]||(t[2]=e.withModifiers((...n)=>s.nextPages&&s.nextPages(...n),["prevent"])),href:"#!"},"...")):e.createCommentVNode("",!0)]),e.createElementVNode("li",{class:e.normalizeClass({disabled:!s.isNextPage}),onClick:t[3]||(t[3]=e.withModifiers((...n)=>s.nextPage&&s.nextPage(...n),["prevent"]))},t[5]||(t[5]=[e.createElementVNode("a",{href:"#!"},[e.createElementVNode("span",null,"»")],-1)]),2)])]))}return g(c,[["render",o]])});
